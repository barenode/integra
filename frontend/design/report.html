<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
    <head>
        <title>Payment Report {{timestamp}}</title>
    </head>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
    </style>
    <body style="font-family: sans-serif; font-size: clamp(12px, 1.5vw, 14px);">
        <h1>Payment Report {{timestamp}}</h1>
        <h2>Summary</h2>
        <table>
            <tr>
                <td>total</td>
                <td>{{ totalCount }}</td>
            </tr>
            <tr>
                <td>successfull</td>
                <td>{{ successfulCount }}</td>
            </tr>
            <tr>
                <td>failed</td>
                <td>{{ successfulCount }}</td>
            </tr>
            <tr>
                <td>retrying</td>
                <td>{{ successfulCount }}</td>
            </tr>
        </table>
        <h2>Failed</h2>
        <table>
            <tr>
                <th>orderId</th>
                <th>paymentInstructionId</th>
                <th>paymentInstructionStatus</th>
                <th>paymentInstructionLastModified</th>
                <th>paidPeriodFromDate</th>
                <th>paidPeriodToDate</th>
                <th>terminationOrderId</th>
                <th>paymentId</th>
                <th>billingAccountNumber</th>
                <th>cpPaymentId</th>
                <th>paymentCreatedAt</th>
                <th>paymentJti</th>
            </tr>
            {% for failedPayment in failed %}
            <tr>
                <td>{{ failedPayment.orderId }}</td>
                <td>{{ failedPayment.paymentInstructionId }}</td>
                <td>{{ failedPayment.paymentInstructionStatus }}</td>
                <td>{{ failedPayment.paymentInstructionLastModified }}</td>
                <td>{{ failedPayment.paidPeriodFromDate }}</td>
                <td>{{ failedPayment.paidPeriodToDate }}</td>
                <td>{{ failedPayment.terminationOrderId }}</td>
                <td>{{ failedPayment.paymentId }}</td>
                <td>{{ failedPayment.billingAccountNumber }}</td>
                <td>{{ failedPayment.cpPaymentId }}</td>
                <td>{{ failedPayment.paymentCreatedAt }}</td>
                <td>{{ failedPayment.paymentJti }}</td>
            </tr>
            {% endfor %}
        </table>
    </body>
</html>